<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    /**
     *  # Primitive data type
     *    ㄴ 자바스크립트의 자료형 (문자, 숫자, array, object 등)은 자료형을 크게 2개로 분류합니다. 
     *       Primitive & reference라고 분류하는데 
     *       Primitive data type들은 그냥 별건 없고 자료 자체가 변수에 저장되는 자료들입니다. 
     *       문자, 숫자 자료형들이 대표적인 primitive data type들입니다. 
    */
   
    var name = 'john';
    var age = 20;

    /**
     *  # Reference data type
     *     ㄴ Array, Object 자료형은 reference data type에 속합니다.
     *        reference data type은 자료를 변수에 직접 저장하는게 아닌,
     *        자료가 저쪽에 있습니다 라는 화살표 (레퍼런스)를 변수에 저장합니다. 
    */
    var 사람 = { name : 'Kim' };
  </script>

  <script>
    /**
     *  # 예제 1. 복사하면 이상한 일이 일어납니다.
     *     ㄴ Primitive 타입 자료형 == 복사 O, 공유 X
     *     ㄴ Reference 타입 자료형 == 복사 && 공유 O
    */

    // Primitive 타입 자료형
    var 이름1 = '김';
    var 이름2 = 이름1;
    이름1 = '박';
    console.log(이름1);  // 이름1 = 박
    console.log(이름2);  // 이름2 = 김

    // Reference 타입 자료형
    var 이름1 = { name : '김' };
    var 이름2 = 이름1;
    이름1.name = '박'
    console.log(이름1); // { name: '박'}
    console.log(이름2); // { name: '박'}

    // => 결론은 object, array 자료형은 등호로 복사하시면
    //    화살표 값을 공유해버리기 때문에 문제가 일어날 수 있습니다. 
  </script>

  <script>
    /**
     *  # 예제 2. 화살표가 할당되는 기준 & object 두개가 같은지 비교해보기
     *     ㄴ pc 메모리에 각각 이름1, 이름2로 저장되어 있기 때문에 false로 나온다
     *       값이 같은 지? 다른 지?를 확인하고자 할 땐 이름1.name == 이름2.name 으로 확인한다.
    */
    var 이름1 = { name : '김' };
    var 이름2 = { name : '김' };
    console.log(이름1 == 이름2);  // false
  </script>

  <script>
    /**
     *  # 예제 3. 함수를 이용해 object를 변경하면 어떻게 될까
     *  
     *    ㄴ 아래 코드 설명
     *       : 자바스크립트가 파라미터를 만들고 사용할 땐 대충 맨 밑줄처럼 만든다고 생각하시면 됩니다.
     *         (실제 이런 문법이 있는건 아니지만요)
     *         obj라는 파라미터자리에 이름1이라는 변수를 집어넣으시면
     *         var obj = 이름1 이렇게 파라미터형 변수를 만든겁니다
     * 
     *         ★★ 파라미터는 변수 생성 & 할당과 똑같다. ★★
     *  
     *       : 실제 이름1이라는 변수는 전혀 건드리지 않고 있습니다. 
     *         그래서 결국 이름1은 바뀌지 않는 것입니다. 
    */
    // (인간의 시점)
    var 이름1 = { name : '김' };
    function 변경(obj){
      obj = { name : 'park' };
    }
    변경(이름1);

    // (자바스크립트의 시점)
    var 이름1 = { name : '김' };
    function 변경(obj){
      obj = { name : 'park' };
    }
    변경(var obj = 이름1);

    // obj 안에 값을 변경하는 함수를 만든다면,
    var 이름1 = { name : '김' };
    function 변경(obj){
      obj.name  = 'park';
    }

    변경(이름1);
    console.log(이름1);
  </script>
</body>
</html>