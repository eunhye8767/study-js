<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>this keyword</title>
</head>
<body>
  <script>

    /*
     *   this
     *    ㄴ this (1)  ===  window
     *      console.log(this)
     *      function 함수 () { console.log(this) }
     *      
     *      => 그냥 쓰거나 일반 함수 안에서 쓰면 window를 가리킨다.
     * 
     *    ㄴ this (2)  
     *      strict mode에선 function 함수 () { console.log(this) }
     *      => strict mode 에선 undefined 
     * 
     *    ㄴ this (3)
     *      const obj = { data : 'kim', fnc : function() { console.log(this) }}
     *      => 오브젝트 내 메소드 간소화 가능 : fnc() { console.log(this) }
     *      => 오브젝트 내 메소드(함수) 안에서 this === 그 함수를 가지고 있는 오브젝트
     * 
     *    ㄴ this (4)
     *       () => {} (arrow function의 특징) :
     *       => this 값을 함수 밖에 있던 거 그대로 쓴다.
     * 
     *    ㄴ this (5)  :  오브젝트 생성기계 (constructor);
     *       => 새로 생성되는 오브젝트를 가리킴.
     * 
     *    ㄴ this (6)  : 이벤트 리스너
     *      elem.addEventListener("click", function () { console.log(this) } )
     *      => this는 이벤트가 적용된 대상(elem)을 가리킨다.
     *      => this === e.currentTarget
     */

    // 자바스크립트 strict mode
    'use strict'

    // elem.addEventListener("click", function (e) {
    //   let arr = [1,2,3]
    //   arr.forEach(function(a) {
    //     // 일반 함수에서 사용하는 this ==> window를 가리킨다.
    //     console.log(this);
    //   })
    // })

    const obj = {
      name : ['kim', 'lee', 'park'],
      test: function () {
        // 오브젝트를 가리킨다.
        // console.log(this)

        // obj.name.forEach(function() {
        //   // this 는 window를 가리킨다.
        //   console.log(this);
        // })

        /*
         * arrow function 특징
         *
         *  => 내부의 this 값을 변화시키지 않음.
         *     (외부 this 값 그대로 재사용 가능) 
         */
        obj.name.forEach(() => {
          // 오브젝트를 가리킨다.
          console.log(this);
        })
      }
    }

    obj.test();

  </script>
</body>
</html>