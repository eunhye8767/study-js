<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>spread operator</title>
</head>
<body>
  
  <script>
    /*
     *  # spread operator
     *    ㄴ ... 을 사용한다
     *    
     *    1. Array에 붙이면 대괄호([])을 제거해준다. (대괄호 제거 문법)
     *    2. 문자에 붙이면 펼쳐준다.
     *    3. reference data type인 array, object는 spread operator을 이용해 복사하여 사용한다.
     *       spread operator로 복사하지 않을 경우, 값이 '공유' 된다.
     *    4. 카피하다가 값이 중복이 될 경우, 가장 뒤에 있는 것을 적용한다.
     */

    let 어레이 = ["hello", "world"];
    console.log(어레이);     // ['hello', 'world']
    console.log(...어레이);  // (설명 1) hello world

    var 문자 = 'hello';
    console.log(문자);       // hello
    console.log(...문자);    // (설명 2) h e l l o

    // Array 합치기  == Deep Copy할 때 사용하게 된다.
    var a = [1,2,3];
    var b = [4,5];
    var c = [...a, ...b];
    console.log(c);

    var o1 = { a : 1, b: 2}
    var o2 = { ...o1, b:4, c: 3}
    console.log(o2);   // { a : 1, b: 4, c: 3}
  </script>

  <script>
    /*
     *   # 함수 파라미터 넣을 때
     */

    function 더하기(a,b,c) {
      console.log(a + b + c);
    }

    var 어레이2 = [10, 20, 30];
    // 옛날 방식 더하기.apply(undefined, 어레이2)
    더하기(...어레이2);
  </script>

  <script>
    // apply 함수 개념 설명

    var person = {
      인사() {
        console.log(`${this.name} 안녕`);
      },
      인사2(a, b) {
        console.log(`${this.name} 안녕 ${a} ${b}`);
      }
    }
    var person2 = {
      name : '손흥민'
    }

    // person.인사()를 person2에 적용하고 싶을 때
    person.인사()               // undefined 안녕
    person.인사.apply(person2)  // 손흥민 안녕
    
    // apply / call 비슷함.
    // apply => 파라미터를 array 형태로 집어넣기 가능
    person.인사2.apply(person2, [1,2])  // 손흥민 안녕 1 2
    person.인사2.call(person2, 1,2)     // 손흥민 안녕 1 2
  </script>
</body>
</html>