<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>매우 짧게 알아보는 Map, Set 자료형</title>
</head>
<body>
  <!-- 
    ES6부터 Map, Set 자료형도 추가되었습니다. 
    역시 매일 만나는 자료형은 아니기 때문에 간단하게 어디다쓰는지만 알아보도록 합시다. 
   -->

  <!-- 
    # 매핑을 할 수 있는 Map 자료형

    Object자료형과 똑같이 key, value 형태로 자료를 저장할 수 있는 자료형입니다. 
    어떻게 만드냐면 

    아래와 같이 만들고 자료를 저장할 수 있습니다. 
    그럼 name은 Kim, age는 20이라는 자료가 저장됩니다. 
    근데 출력해보시면 Object와는 약간 다릅니다. 
   -->
  <script>
    var person = new Map();
    // person.set(key, value) 형태
    person.set('name', 'Kim');
    person.set('age', 20);
    
    /**
     * 화살표로 나타내줍니다. 
     * 왜냐면 Map 자료형은 자료의 연관성을 표현하기 위해 쓰기 때문입니다. 
     * 그냥 key, value형식으로 저장하려면 Object 쓰시면 되고,
     * name이 Kim과 연관되어있다~ 라고 저장하고 싶으면 Map을 쓰시면 됩니다.
     * 
     * 다시한번 강조하면 
     * 자료들 간의 연관성을 표현하기 위해 쓰는 자료형이 바로 Map입니다
    */
    console.log(person);  // Map(2) {'name' => 'Kim', 'age' => 20}
  </script> 

  <!-- 
    그래서 Map 자료형은 key, value값에 모든 자료를 집어넣을 수 있습니다. 
    key값란에 별걸 다 집어넣을 수 있다는 소리입니다. 

    자료의 이름으로 array도 되고 object도 됩니다. 
    단순하게 자료의 이름이라기보다는
    Map은 이 값이 저 값과 연관되어있다~ 라는걸 표현하기 위함이니까요. 
   -->
  <script>
    var person2 = new Map();
    person2.set([1,2,3], 'Kim');
    person2.set('age', 20);
  </script>



  <!-- 
    # Map 다루는 법 
   -->
  <script>
    var person3 = new Map();
    person3.set('age', 20);

    person3.get('age'); //자료 꺼내는 법
    person3.delete('age'); //자료 삭제하는 법
    person3.size; //자료 몇갠지 알려줌

    //Map자료 반복문 돌리기
    for (var key of person3.keys() ){
      console.log(key)
    }

    //자료를 직접 집어넣고 싶으면
    var person4 = new Map([
      ['age', 20],
      ['name', 'Kim']
    ]); 
  </script>

  <!-- 
    평소에 개발할 땐 여기까지만 알고계시면 되는데 
    실은 알고리즘 공부를 하게 된다면 
    Map 자료형을 다시 만나게 될 겁니다.
    array 같은 곳에 자료를 저장할 때 자료가 천만개 1억개 이상으로 많으면 
    Hash Map, Hash Table 이라는걸 사용합니다.
    왜냐면 1억개 자료가 저장된 array에서 원하는 것만 쏙 뽑고 싶으면 
    반복문을 돌리든가 해서 1억개를 전부 들춰봐야하니까요. 
   -->
  <script>
    /**
     * 아래 자료에서 2라는 자료가 어딨는지 찾고싶으면 어떻게합니까.
     * 몇번째인지 모르니까 반복문 돌려서 하나하나 출력해봐야하는 것입니다. 
     * 그래서 느리다는 겁니다. 
     * 
     * 근데 Hash Table 이런걸 쓰면 자료를 미리 abc 순으로 정돈이 가능한데 
     * abc 순으로 정돈된 자료는 매우 찾기 빠릅니다.
     * 왜 빠르냐고요? 
     * 여러분 종이 영어사전에서 단어 찾을 때도 abc 알파벳 순으로 
     * 정렬되어있어서 빠르게 찾을 수 있잖아요.  
     * 그래서 자료가 1억개고 거기서 원하는걸 찾을 일이 많으면 Hash Table을 사용합니다. 
     * 자료에 key값을 부여해놓고 정렬하면 그게 Hash Table 만들기 끝입니다. 
     * 실은 여태까지 잘 쓰던 object 자료형이 Hash Table이랑 비슷합니다. 
     * 
     * 근데 Hash Table을 만들기 위해선 쌩 자바스크립트 object 자료 쓰면 되긴 하는데
     *  1. object 자료형은 hasOwnProperty, toString 이런 키들도 
     *     집어넣을 수 있어서 너무 유연하고
     *  2. key값으로 들어올 수 있는게 문자형태로 제한되어있어서
     *     Map 자료형을 사용합니다. 그냥 new Map() 쓰면 끝임. 
     *    가끔 Map 이라는 클래스를 직접 똑같이 만들어보는 것도 좋은 연습문제로 등장합니다.
    */
    var array = [1,5,34,67,43,2,213,8] 
  </script>



  <!-- 
    # Set 자료형

    간단한 Array 자료형과 똑같이 생겼습니다.
    자료를 일렬로 쭉 저장할 수 있습니다. 
    이렇게 만들 수 있습니다. 

    출력해보면 아시겠지만 중괄호로 표현이 되죠? 
    중괄호지만 Array와 유사하게 생겼습니다.

    또 다른 특징은 이 자료형은 중복자료를 절대 허용하지 않습니다. 
    실수로 tom이라는걸 두개 집어넣었었는데, 지금 tom은 하나만 출력됩니다. 

    ★★★★ 
    이렇게 중복 데이터를 방지하고 싶을 때 쓰시면 유용한 자료형입니다. 
    ★★★★
   -->
  <script>
    var 출석부2 = new Set([ 'john' , 'tom', 'andy', 'tom' ]);
    console.log(출석부2);  // Set(3) {'john', 'tom', 'andy'}
  </script>

  <!-- 
    Set 자료형 다루기

    물론 반복문도 돌릴 수 있습니다. forEach 혹은 for of 반복문을 씁니다. 
    Set은 Map보다는 그나마 많이 씁니다.
   -->
  <script>
    var 출석부2 = new Set([ 'john' , 'tom', 'andy', 'tom' ]);

    출석부2.add('sally'); //자료더하기 
    출석부2.has('tom'); //자료있는지 확인
    출석부2.size;  //자료 몇갠지 세기 (중복값 제외)
  </script>

  <!-- 
    특히 Array의 데이터 중복제거할 때 많이 씁니다.

    왜냐면 Array를 Set으로 바꾸는게 매우 쉽기 때문입니다. 
    한번 Array에 있는 중복데이터를 제거해봅시다.
   -->
  <script>
    /**
     * 이런 패턴으로 많이 합니다.
     * 위의 예제는 출석부라는 Array자료형을 Set으로 바꿨다가 
     * 다시 바로 Array로 바꾸는 예제입니다.
     * 그럼 이제 출석부에 있던 중복자료들이 자동으로 제거가 됩니다. 
     * 편리하죠?
    */
    var 출석부3 = [ 'john' , 'tom', 'andy', 'tom' ];
    var 출석부4 = new Set(출석부3); //Array를 Set으로 바꾸기

    출석부3 = [...출석부4]  //Set을 Array로 바꾸기
  </script>
</body>
</html>