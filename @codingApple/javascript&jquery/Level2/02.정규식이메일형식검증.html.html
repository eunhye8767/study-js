<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>정규식으로 이메일형식 검증해보기</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="./main.css">
</head>
<body>
  <form action="success.html">
    <div class="my-3">
      <input type="text" class="form-control">
     </div>
     <div class="my-3">
       <input type="password" class="form-control">
     </div>
     <button type="submit" class="btn btn-primary">전송</button>
     <button type="button" class="btn btn-danger" id="close">닫기</button>
  </form> 

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // const str = 'abc';
    // includes 글자가 포함되어 있는 지 체크해준다. 
    // 단, 한글인지? 영어가 있는 지?는 체크할 수가 없다.
    // console.log(str.includes('ab'));

    /*
     * 정규식
     *  ㄴ /a/ 처럼 /(슬래시)로 검사하면 된다.
     *  ㄴ /[a-z]/ => a~z 범위 설정도 가능 (대소문자 구분함).
     *  ㄴ /a/.test() => 검사한다.
     *  ㄴ /\S/  => 아무문자 "1글자"를 뜻한다! (특수기호 포함)
     *  ㄴ /^a/ => a로 시작하는 지?
     *  ㄴ /a$/ => a로 끝나는 지?
     *  ㄴ /a|b/ => a 또는 b?
     */

    //  console.log(/a/.test("b"));
    //  console.log(/[a-zA-Z]/.test('abcdeA'));
    //  console.log(/[ㄱ-ㅎ가-힣]/.test('어전일'));

     // 이메일 정규식 검사
     console.log(/\S@\S\.\S/.test("aaa@bbb.cim"));
     // \S+ => +는 왼쪽 문자 반복 검색을 뜻한다.
     // 엄격한 방식은 아니기 때문에 구글검색으로 확인해보기
     console.log(/\S+@\S+\.\S+/.test("aaa@bbb.cim"));
  </script>

  <script>
    document.querySelector('form').addEventListener('submit', function(e) {
      const iptValue = document.querySelector('input[type="text"]').value;
      const password = document.querySelector('input[type="password"]').value;

      if (!/\S+@\S+\.\S+/.test(iptValue)) {
        e.preventDefault();
        console.log("이메일 형식에 맞춰주세요.");
      }

      if (!/[A-Z]/.test(password)) {
        e.preventDefault();
        console.log("대문자를 포함한 비밀번호를 설정해주세요.");
      }
    })
  </script>
</body>
</html>