<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>코드 3줄로 캐러셀 (이미지 슬라이드) 만들기</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./main.css" />

    <style>
      .slide-container {
        width: 300vw;
        transition: all 1s;
      }
      .slide-box {
        width: 100vw;
        height: 300px;
        float: left;
      }
      .slide-box:nth-child(1) {
        background: red;
      }
      .slide-box:nth-child(2) {
        background: yellow;
      }
      .slide-box:nth-child(3) {
        background: green;
      }
    </style>
  </head>
  <body>
    <div style="overflow: hidden">
      <div class="slide-container">
        <div class="slide-box"></div>
        <div class="slide-box"></div>
        <div class="slide-box"></div>
      </div>
    </div>
    
    <button class="prev">이전</button>
    <button class="slide-1">1</button>
    <button class="slide-2">2</button>
    <button class="slide-3">3</button>
    <button class="next">다음</button>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      const container = document.querySelector(".slide-container");
      let currSlide = 0;

      document.querySelector(".slide-1").addEventListener("click", function () {
        currSlide = 0;
        container.style.transform = 'translateX(0)';
      })
      document.querySelector(".slide-2").addEventListener("click", function () {
        currSlide = 1;
        container.style.transform = 'translateX(-100vw)';
      })
      document.querySelector(".slide-3").addEventListener("click", function () {
        currSlide = 2;
        container.style.transform = 'translateX(-200vw)';
      })

      function handleSlide(dir) {
        if (dir === "prev") {
          if (currSlide > 0 && currSlide <= 2) {
            currSlide -= 1;
            container.style.transform = `translateX(-${currSlide}00vw)`;
          }
        } else if (dir === "next") {
          if (currSlide >= 0 && currSlide < 2) {
            currSlide += 1;
            container.style.transform = `translateX(-${currSlide}00vw)`;
          }
        }
      }

      document.querySelector(".prev").addEventListener("click", function () {
        handleSlide("prev");
      })
      
      document.querySelector(".next").addEventListener("click", function() {
        handleSlide("next");
      })
    </script>
  </body>
</html>
