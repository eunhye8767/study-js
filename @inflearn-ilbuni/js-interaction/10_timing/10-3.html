<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Interactive Web</title>

    <style>
        .btn {
            font-size: 2rem;
        }
    </style>
</head>
<body>

    <button class="btn">취소</button>

    <script>
        
        // 방법 2-0. 어떤 특정 조건이 되었을 때 실행을 멈추고 싶을 때

        let timeId;

        // 방법 2-1. n이란 변수를 만들어준다.
        let n = 0;

        const btn = document.querySelector('.btn');
        
        function sample() {

            // 방법 2-2. 실행을 할 때마다 1씩 늘어난다.
            n++;

            // 방법 2-3. n을 출력한다.
            console.log(n);

            // 방법 2-4. n이 200보다 크면 return
            if ( n > 200 ) {
                return;
            }

            // console.log('sample!');

            /*
                requestAnimationFrame 은
                반복시킬 함수 안에다가 작성을 한다.
                요즘은 캔버스할 때 자주 사용.
                최대 1ms(1/1000s)로 제한되며 1초에 60번 동작
                https://developer.mozilla.org/ko/docs/Web/API/Window/requestAnimationFrame
             */ 
             timeId = requestAnimationFrame(sample);
        }

        // 함수를 실행해준다.
        sample();
        
        // requestAnimationFrame 의 취소 버튼은 cancelAnimationFrame
        btn.addEventListener('click', function(){
            cancelAnimationFrame(timeId);
        });

        
    </script>

</body>
</html>